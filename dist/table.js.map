{"version":3,"sources":["../src/table.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;IAEqB,KAAK;AACxB,WADmB,KAAK,CACZ,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;0BADZ,KAAK;;AAEtB,QAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AACb,QAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACvB,QAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,QAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;AAElB,WAAO,GAAG,OAAO,IAAI,EAAE,CAAC;;;;;;;AAExB,2BAAkB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,8HAAE;YAA7B,GAAG;;AACZ,YAAI,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;OAC1B;;;;;;;;;;;;;;;GACF;;eAZkB,KAAK;;6BAcf,IAAI,EAAE;AACb,UAAI,IAAI,CAAC,OAAO,EAAE;AAChB,cAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;OAClD;;AAED,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACzB;;;8BAES,IAAI,EAAE;AACd,UAAI,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE;AACnB,YAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;OACrB;;AAED,UAAI,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE;AACrB,YAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC;OACrB;;AAED,UAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;AAC1B,YAAI,CAAC,SAAS,GAAG,IAAI,CAAC;OACvB;;AAED,UAAM,aAAa,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC;;AAExD,UAAI,CAAC,aAAa,EAAE;AAClB,cAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;OAC3D;;AAED,UAAM,MAAM,GAAG,qBAAW,IAAI,CAAC,CAAC;;AAEhC,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAE1B,aAAO,IAAI,CAAC;KACb;;;SA9CkB,KAAK;;;kBAAL,KAAK","file":"table.js","sourcesContent":["import Column from './column';\n\nexport default class Table {\n  constructor(id, name, options) {\n    this.id = id;\n    this.name = name || id;\n    this.columns = [];\n    this.indexes = [];\n\n    options = options || {};\n\n    for (const key of Object.keys(options)) {\n      this[key] = options[key];\n    }\n  }\n\n  addIndex(opts) {\n    if (opts.columns) {\n      throw new Error('must provide column parameter');\n    }\n\n    this.indexes.push(opts);\n  }\n\n  addColumn(opts) {\n    if (opts.id == null) {\n      opts.id = opts.name;\n    }\n\n    if (opts.name == null) {\n      opts.name = opts.id;\n    }\n\n    if (opts.allowNull == null) {\n      opts.allowNull = true;\n    }\n\n    const hasParameters = opts.id && opts.name && opts.type;\n\n    if (!hasParameters) {\n      throw new Error('must provide id, name, type parameters');\n    }\n\n    const column = new Column(opts);\n\n    this.columns.push(column);\n\n    return this;\n  }\n}\n"]}